[project]
name = "pystapi"
version = "0.0.0" # This package should never be released, only the workspace members should be
description = "Monorepo for Satellite Tasking API (STAPI) Specification Python packages"
readme = "README.md"
requires-python = ">=3.10"
dependencies = [
    "stapi-pydantic",
    "stapi-fastapi",
]

[dependency-groups]
dev = [
    "pytest>=8.1.1",
    "pytest-coverage>=0.0",
    "mypy>=1.15.0",
    "pytest>=8.3.5",
    "ruff>=0.11.2",
    "pymarkdownlnt>=0.9.25",
    "pre-commit>=4.2.0",
    "pre-commit-hooks>=5.0.0",
]

[tool.uv.workspace]
members = ["stapi-pydantic", "stapi-fastapi"]

[tool.uv.sources]
stapi-pydantic.workspace = true
stapi-fastapi.workspace = true

[tool.ruff]
line-length = 88
include = [
    "stapi-pydantic/src/stapi_pydantic/**/*.py",
    "stapi-fastapi/src/stapi_fastapi/**/*.py"
]

[tool.ruff.format]
quote-style = 'double'

[tool.ruff.lint]
extend-ignore = ["E501", "UP007", "UP034"]
select = [
    "C9",
    "E",
    "F",
    "I",
    "W",
    "UP"
]

[tool.ruff.lint.mccabe]
max-complexity = 8

[tool.mypy]
strict = true
files = [
    "stapi-pydantic/src/stapi_pydantic/**/*.py",
    "stapi-fastapi/src/stapi_fastapi/**/*.py"
]
